<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Download iframe content</title>
</head>
<body>
  <h2>Load URL in iframe and download its HTML</h2>
  <input type="text" id="urlInput" placeholder="Enter URL" size="50" />
  <button onclick="loadIframe()">Load</button>
  <button onclick="downloadIframeContent()">Download HTML</button>

  <div style="margin-top:20px;">
    <iframe id="myIframe" src="" width="800" height="600" style="border:1px solid #ccc;"></iframe>
  </div>

  <script>
    function loadIframe() {
      let url = document.getElementById('urlInput').value;
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        url = 'http://' + url;
      }
      document.getElementById('myIframe').src = url;
    }

    function downloadIframeContent() {
      const iframe = document.getElementById('myIframe');
      try {
        const doc = iframe.contentDocument || iframe.contentWindow.document;
        const htmlContent = doc.documentElement.outerHTML;
        const blob = new Blob([htmlContent], { type: 'text/html' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'downloaded_iframe.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      } catch (e) {
        alert('Cannot access iframe content due to cross-origin restrictions.');
      }
    }
  </script>
</body>
</html>
